<UserControl x:Class="BIMOpsToolkit.Tools.Versioning.Views.VersionPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:BIMOpsToolkit.Tools.Versioning.Views"
             xmlns:viewmodel="clr-namespace:BIMOpsToolkit.Tools.Versioning.ViewModels"
             xmlns:system="clr-namespace:System;assembly=mscorlib"
             d:DataContext="{d:DesignInstance Type=viewmodel:VersionPanelViewModel, IsDesignTimeCreatable=True}"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="400"
             Background="White"
             FontFamily="/BIMOpsToolkit.Tools;component/Resources/Roboto/Roboto-Regular.ttf#Roboto">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/BIMOpsToolkit.Tools;component/UIComponents/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <DockPanel LastChildFill="True" Margin="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--Header-->
            <DockPanel Grid.Row="0">
                <Button Content="Save" Command="{Binding OpenSaveVersionCommand}"
                        Style="{DynamicResource RoundedButton}"
                        Width="50"/>
                <Button Content="Compare" Command="{Binding OpenCompareVersionCommand}" 
                        Style="{DynamicResource RoundedButton}"
                        Width="70"/>
                <Button Content="Settings" Command="{Binding OpenSettingsVersionCommand}" 
                        Style="{DynamicResource RoundedButton}"
                        Width="70"/>
                <TextBox Margin="5 3" 
                         Style="{StaticResource WatermarkTextBox}"
                         Tag="Search..."
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
            </DockPanel>
            <ListView Grid.Row="1" Margin="5 7"
                      ItemsSource="{Binding Versions}"
                      SelectedItem="{Binding SelectedVersion}"
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      Background="White">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Version" Width="70" DisplayMemberBinding="{Binding Name}" />
                        <GridViewColumn Header="Created at" Width="80" DisplayMemberBinding="{Binding CreatedAt}" />
                        <GridViewColumn Header="Author" Width="80" DisplayMemberBinding="{Binding Author}" />
                        <GridViewColumn Header="Comments" Width="Auto" DisplayMemberBinding="{Binding Comment}" />
                    </GridView>
                </ListView.View>
            </ListView>

        </Grid>
    </DockPanel>
</UserControl>
